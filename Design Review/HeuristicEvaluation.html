<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Heuristic Evaluation Template</title>
  
  <!-- Include Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Additional metadata for better printing -->
  <meta name="color-scheme" content="normal">
  <meta name="format-detection" content="telephone=no">
  
  <style>
    /* Force background colors when printing */
    * {
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;
      color-adjust: exact !important;
    }
    
    @media print {
      .no-print {
        display: none !important;
      }
      
      button {
        display: none !important;
      }
      
      /* Ensure good printing */
      body {
        width: 100%;
        margin: 0;
        padding: 0;
        background-color: white;
      }
      
      /* Make sure textareas print with content */
      textarea {
        border: 1px solid #ccc !important;
        resize: none !important;
        overflow: hidden !important;
      }
      
      /* Improve table print layout */
      table {
        width: 100% !important;
        page-break-inside: auto !important;
      }
      
      tr {
        page-break-inside: avoid !important;
        page-break-after: auto !important;
      }
      
      /* Preserve background colors */
      .bg-purple-50 {
        background-color: #faf5ff !important;
      }
      
      .bg-purple-100 {
        background-color: #f3e8ff !important;
      }
      
      .bg-gray-50 {
        background-color: #f9fafb !important;
      }
      
      .bg-gray-100 {
        background-color: #f3f4f6 !important;
      }
    }
    
    /* Custom styles */
    textarea {
      resize: vertical;
    }
  </style>
</head>
<body class="bg-gray-50">
  <div class="p-6 max-w-7xl mx-auto bg-white my-4 shadow-lg rounded-lg">
    <div class="mb-8">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6">
        <div class="flex-1">
          <h1 class="text-2xl font-bold mb-2">Heuristic Evaluation on</h1>
          <input
            type="text"
            id="projectName"
            placeholder="Project/Website/App Name"
            class="border border-purple-300 bg-purple-50 p-2 w-full md:w-96"
          />
        </div>
        <div class="mt-4 md:mt-0">
          <div class="font-bold mb-1">Evaluator Name:</div>
          <input
            type="text"
            id="evaluatorName"
            placeholder="Your Name"
            class="border border-gray-300 p-2 w-full md:w-64"
          />
        </div>
      </div>

      <div class="bg-purple-100 p-4 mb-6 rounded">
        <h2 class="font-bold mb-2">SEVERITY RATING</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
          <div><strong>0</strong> = I don't agree that this is a usability problem at all</div>
          <div><strong>1</strong> = Cosmetic problem only: fix if time is available</div>
          <div><strong>2</strong> = Minor usability problem: fixing this should be given low priority</div>
          <div><strong>3</strong> = Major usability problem: important to fix, given high priority</div>
          <div class="md:col-span-2"><strong>4</strong> = Usability catastrophe: fix this before product can be released</div>
        </div>
      </div>
    </div>

    <div class="overflow-x-auto">
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-gray-100">
            <th class="border border-gray-300 p-2 w-1/4 text-left">HEURISTICS</th>
            <th class="border border-gray-300 p-2 w-1/4 text-left">VIOLATION</th>
            <th class="border border-gray-300 p-2 w-1/4 text-left">RECOMMENDATION</th>
            <th class="border border-gray-300 p-2 w-1/12 text-left">SEVERITY</th>
          </tr>
        </thead>
        <tbody id="heuristicsTableBody">
          <!-- Table rows will be generated by JavaScript -->
        </tbody>
      </table>
    </div>

    <div class="mt-6 text-center no-print">
      <button 
        id="printButton"
        class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded"
      >
        Print Evaluation
      </button>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const heuristics = [
        {
          id: 1,
          name: "Visibility of system status",
          description: "Always keep users informed about what is going on, through appropriate feedback within reasonable time.",
        },
        {
          id: 2,
          name: "Match between system and the real world",
          description: "Follow real-world conventions, making information appear in a natural and logical order.",
        },
        {
          id: 3,
          name: "User control and freedom",
          description: "Users should leave the unwanted state without having to go through an extended dialogue. Undo and redo.",
        },
        {
          id: 4,
          name: "Consistency and standards",
          description: "Users should not have to wonder whether different words, situations, or actions mean the same thing.",
        },
        {
          id: 5,
          name: "Error prevention",
          description: "Either eliminate error-prone conditions or check for them and present users with a confirmation option before they commit to the action.",
        },
        {
          id: 6,
          name: "Recognition rather than recall",
          description: "Minimize the user's memory load by making objects, actions, and options visible.",
        },
        {
          id: 7,
          name: "Flexibility and efficiency of use",
          description: "Accelerators. Allow users to tailor frequent actions.",
        },
        {
          id: 8,
          name: "Aesthetic and minimalist design",
          description: "Dialogues should not contain information which is irrelevant or rarely needed.",
        },
        {
          id: 9,
          name: "Help users recognize, diagnose, and recover from errors",
          description: "Error messages should be expressed in plain language (no codes), precisely indicate the problem, and constructively suggest a solution.",
        },
        {
          id: 10,
          name: "Help and documentation",
          description: "Even though it is better if the system can be used without documentation, it may be necessary to provide help and documentation.",
        }
      ];
      
      // Generate table rows
      const tableBody = document.getElementById('heuristicsTableBody');
      
      heuristics.forEach((heuristic) => {
        const row = document.createElement('tr');
        row.className = heuristic.id % 2 === 0 ? "" : "bg-purple-50";
        
        // Heuristic cell
        const heuristicCell = document.createElement('td');
        heuristicCell.className = "border border-gray-300 p-3 align-top";
        heuristicCell.innerHTML = `
          <div class="font-bold mb-1">${heuristic.id}. ${heuristic.name}</div>
          <div class="text-sm italic text-gray-600">${heuristic.description}</div>
        `;
        
        // Violation cell
        const violationCell = document.createElement('td');
        violationCell.className = "border border-gray-300 p-2";
        const violationTextarea = document.createElement('textarea');
        violationTextarea.className = "w-full h-24 p-2 border border-gray-300";
        violationTextarea.placeholder = "Describe the violation...";
        violationTextarea.id = `violation-${heuristic.id}`;
        violationCell.appendChild(violationTextarea);
        
        // Recommendation cell
        const recommendationCell = document.createElement('td');
        recommendationCell.className = "border border-gray-300 p-2";
        const recommendationTextarea = document.createElement('textarea');
        recommendationTextarea.className = "w-full h-24 p-2 border border-gray-300";
        recommendationTextarea.placeholder = "Provide recommendations...";
        recommendationTextarea.id = `recommendation-${heuristic.id}`;
        recommendationCell.appendChild(recommendationTextarea);
        
        // Severity cell
        const severityCell = document.createElement('td');
        severityCell.className = "border border-gray-300 p-2";
        const severitySelect = document.createElement('select');
        severitySelect.className = "w-full p-2 border border-gray-300";
        severitySelect.id = `severity-${heuristic.id}`;
        
        const options = [
          { value: "", text: "Select" },
          { value: "0", text: "0" },
          { value: "1", text: "1" },
          { value: "2", text: "2" },
          { value: "3", text: "3" },
          { value: "4", text: "4" }
        ];
        
        options.forEach(option => {
          const optionElement = document.createElement('option');
          optionElement.value = option.value;
          optionElement.textContent = option.text;
          severitySelect.appendChild(optionElement);
        });
        
        severityCell.appendChild(severitySelect);
        
        // Add all cells to the row
        row.appendChild(heuristicCell);
        row.appendChild(violationCell);
        row.appendChild(recommendationCell);
        row.appendChild(severityCell);
        
        // Add row to table
        tableBody.appendChild(row);
      });
      
      // Print button functionality with color preservation hint
      document.getElementById('printButton').addEventListener('click', function() {
        // Alert user about color settings for best results
        alert("Printing tip: For best results with colors, make sure 'Background graphics' or 'Print backgrounds' is enabled in your browser's print settings.");
        window.print();
      });
      
      // Auto-resize textareas to fit content
      document.querySelectorAll('textarea').forEach(textarea => {
        textarea.addEventListener('input', function() {
          this.style.height = 'auto';
          this.style.height = (this.scrollHeight) + 'px';
        });
      });
      
      // Save form data to localStorage as user types
      const inputs = document.querySelectorAll('input, textarea, select');
      inputs.forEach(input => {
        // Load saved value if it exists
        const savedValue = localStorage.getItem(input.id);
        if (savedValue) {
          input.value = savedValue;
        }
        
        // Save value on change
        input.addEventListener('input', function() {
          localStorage.setItem(this.id, this.value);
        });
      });
    });
  </script>
</body>
</html>